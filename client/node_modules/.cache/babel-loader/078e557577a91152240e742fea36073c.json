{"ast":null,"code":"import _createForOfIteratorHelper from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\WorkSpace\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\WorkSpace\\\\client\\\\src\\\\egret\\\\components\\\\EgretVerticalNav\\\\EgretVerticalNavExpansionPanel.jsx\";\nimport React, { Component } from 'react';\nimport { withStyles, Icon } from '@material-ui/core/styles';\nimport TouchRipple from '@material-ui/core/styles/ButtonBase';\nimport { withRouter } from 'react-router-dom';\nvar styles = function styles(theme) {\n  return {\n    expandIcon: {\n      transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n      transform: 'rotate(90deg)'\n      // marginRight: \"16px\"\n    },\n\n    collapseIcon: {\n      transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n      transform: 'rotate(0deg)'\n      // marginRight: \"16px\"\n    },\n\n    'expansion-panel': {\n      overflow: 'hidden',\n      transition: 'max-height 0.3s cubic-bezier(0, 0, 0.2, 1)'\n    },\n    highlight: {\n      background: theme.palette.primary.main\n    }\n  };\n};\nvar EgretVerticalNavExpansionPanel = /*#__PURE__*/function (_Component) {\n  _inherits(EgretVerticalNavExpansionPanel, _Component);\n  function EgretVerticalNavExpansionPanel() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, EgretVerticalNavExpansionPanel);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EgretVerticalNavExpansionPanel)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      collapsed: true\n    };\n    _this.elementRef = React.createRef();\n    _this.componentHeight = 0;\n    _this.handleClick = function () {\n      _this.setState({\n        collapsed: !_this.state.collapsed\n      });\n    };\n    return _this;\n  }\n  _createClass(EgretVerticalNavExpansionPanel, [{\n    key: \"calcaulateHeight\",\n    value: function calcaulateHeight(node) {\n      if (node.name !== 'child') {\n        var _iterator = _createForOfIteratorHelper(node.children),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var child = _step.value;\n            this.calcaulateHeight(child);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      this.componentHeight += node.clientHeight;\n      return;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var location = this.props.location;\n      this.calcaulateHeight(this.elementRef);\n\n      // OPEN DROPDOWN IF CHILD IS ACTIVE\n      var _iterator2 = _createForOfIteratorHelper(this.elementRef.children),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var child = _step2.value;\n          if (child.getAttribute('href') === location.pathname) {\n            this.setState({\n              collapsed: false\n            });\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var collapsed = this.state.collapsed;\n      var _this$props = this.props,\n        classes = _this$props.classes,\n        children = _this$props.children;\n      var _this$props$item = this.props.item,\n        name = _this$props$item.name,\n        icon = _this$props$item.icon,\n        badge = _this$props$item.badge;\n      var _this$props2 = this.props,\n        t = _this$props2.t,\n        i18n = _this$props2.i18n;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(TouchRipple, {\n        className: \"nav-item flex-middle h-48 w-100\",\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-middle item-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }\n      }, icon), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-middle pl-20 item-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }, t(name))), badge && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"badge bg-\".concat(badge.color),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, badge.value), /*#__PURE__*/React.createElement(\"div\", {\n        className: collapsed ? classes.collapseIcon + ' item-arrow' : classes.expandIcon + ' item-arrow',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }\n      }, \"chevron_right\"))), /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this2.elementRef = el;\n        },\n        className: classes['expansion-panel'] + ' submenu',\n        style: collapsed ? {\n          maxHeight: '0px'\n        } : {\n          maxHeight: this.componentHeight + 'px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }\n      }, children));\n    }\n  }]);\n  return EgretVerticalNavExpansionPanel;\n}(Component);\nexport default withRouter(withStyles(styles)(EgretVerticalNavExpansionPanel));","map":{"version":3,"names":["React","Component","withStyles","Icon","TouchRipple","withRouter","styles","theme","expandIcon","transition","transform","collapseIcon","overflow","highlight","background","palette","primary","main","EgretVerticalNavExpansionPanel","state","collapsed","elementRef","createRef","componentHeight","handleClick","setState","node","name","children","child","calcaulateHeight","clientHeight","location","props","getAttribute","pathname","classes","item","icon","badge","t","i18n","color","value","el","maxHeight"],"sources":["D:/WorkSpace/client/src/egret/components/EgretVerticalNav/EgretVerticalNavExpansionPanel.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { withStyles, Icon } from '@material-ui/core/styles';\nimport TouchRipple from '@material-ui/core/styles/ButtonBase';\nimport { withRouter } from 'react-router-dom';\n\nconst styles = (theme) => {\n\treturn {\n\t\texpandIcon: {\n\t\t\ttransition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n\t\t\ttransform: 'rotate(90deg)',\n\t\t\t// marginRight: \"16px\"\n\t\t},\n\t\tcollapseIcon: {\n\t\t\ttransition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n\t\t\ttransform: 'rotate(0deg)',\n\t\t\t// marginRight: \"16px\"\n\t\t},\n\t\t'expansion-panel': {\n\t\t\toverflow: 'hidden',\n\t\t\ttransition: 'max-height 0.3s cubic-bezier(0, 0, 0.2, 1)',\n\t\t},\n\t\thighlight: {\n\t\t\tbackground: theme.palette.primary.main,\n\t\t},\n\t};\n};\n\nclass EgretVerticalNavExpansionPanel extends Component {\n\tstate = {\n\t\tcollapsed: true,\n\t};\n\telementRef = React.createRef();\n\n\tcomponentHeight = 0;\n\n\thandleClick = () => {\n\t\tthis.setState({ collapsed: !this.state.collapsed });\n\t};\n\n\tcalcaulateHeight(node) {\n\t\tif (node.name !== 'child') {\n\t\t\tfor (let child of node.children) {\n\t\t\t\tthis.calcaulateHeight(child);\n\t\t\t}\n\t\t}\n\t\tthis.componentHeight += node.clientHeight;\n\t\treturn;\n\t}\n\tcomponentDidMount() {\n\t\tlet { location } = this.props;\n\t\tthis.calcaulateHeight(this.elementRef);\n\n\t\t// OPEN DROPDOWN IF CHILD IS ACTIVE\n\t\tfor (let child of this.elementRef.children) {\n\t\t\tif (child.getAttribute('href') === location.pathname) {\n\t\t\t\tthis.setState({ collapsed: false });\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tlet { collapsed } = this.state;\n\t\tlet { classes, children } = this.props;\n\t\tlet { name, icon, badge } = this.props.item;\n\t\tconst { t, i18n } = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<TouchRipple\n\t\t\t\t\tclassName=\"nav-item flex-middle h-48 w-100\"\n\t\t\t\t\tonClick={this.handleClick}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Icon className=\"text-middle item-icon\">{icon}</Icon>\n\t\t\t\t\t\t<span className=\"text-middle pl-20 item-text\">{t(name)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t{badge && (\n\t\t\t\t\t\t<div className={`badge bg-${badge.color}`}>{badge.value}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\tcollapsed\n\t\t\t\t\t\t\t\t? classes.collapseIcon + ' item-arrow'\n\t\t\t\t\t\t\t\t: classes.expandIcon + ' item-arrow'\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<Icon className=\"text-middle\">chevron_right</Icon>\n\t\t\t\t\t</div>\n\t\t\t\t</TouchRipple>\n\n\t\t\t\t<div\n\t\t\t\t\tref={(el) => (this.elementRef = el)}\n\t\t\t\t\tclassName={classes['expansion-panel'] + ' submenu'}\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tcollapsed\n\t\t\t\t\t\t\t? { maxHeight: '0px' }\n\t\t\t\t\t\t\t: { maxHeight: this.componentHeight + 'px' }\n\t\t\t\t\t}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withStyles(styles)(EgretVerticalNavExpansionPanel));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}